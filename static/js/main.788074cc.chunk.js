(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,n){e.exports=n(592)},285:function(e,t,n){},286:function(e,t,n){},347:function(e,t){},349:function(e,t,n){var a={"./N3Lexer":117,"./N3Lexer.js":117,"./N3Parser":118,"./N3Parser.js":118,"./N3Store":175,"./N3Store.js":175,"./N3StreamParser":176,"./N3StreamParser.js":176,"./N3StreamWriter":181,"./N3StreamWriter.js":181,"./N3Util":119,"./N3Util.js":119,"./N3Writer":122,"./N3Writer.js":122};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=349},352:function(e,t){},354:function(e,t){},370:function(e,t){},372:function(e,t){},389:function(e,t){},391:function(e,t){},395:function(e,t){},397:function(e,t){},430:function(e,t){},431:function(e,t){},433:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=433},484:function(e,t){},485:function(e,t){},549:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=549},578:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=578},592:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(43),i=n.n(o),c=(n(285),n(44)),s=n(45),l=n(48),u=n(46),h=n(49),f=(n(286),n(87)),d=n(56),m=n(149),p=n.n(m),g=n(274),w=n.n(g),y=(n(287),function(){return r.a.createElement("div",{style:{padding:"3%"}},r.a.createElement(p.a,{bg:"light",variant:"light",fixed:"top"},r.a.createElement(p.a.Brand,null,r.a.createElement("img",{src:"favicon.ico",width:"30",height:"30",alt:"Solid logo"}),r.a.createElement("span",{style:{marginLeft:"5%"}},"Dr Martens")),r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(f.b,{to:"/health-app/",style:{color:"#000",marginLeft:"25%"}},"Healthcase"),r.a.createElement(f.b,{to:"/getuser",style:{color:"#000",marginLeft:"25%"}},"Usercheck"))))}),v=n(68),E=n.n(v),b=n(277),O=function(){return r.a.createElement("img",{src:"http://nationalpainreport.com/wp-content/uploads/2014/07/bigstock-Doctor-physician-Isolated-ov-33908342-e1446160270762.jpg",alt:"",style:{display:"flex",width:"100%"}})},j=n(279),k=n.n(j),x=n(278),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(x.a,{url:"https://a-solid-web.github.io/profile-viewer-react/",height:"800px",width:"800px",position:"relative",allowFullScreen:!0,scrolling:"yes",styles:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}))}}]),t}(r.a.Component),N=n(594),D=n(595),I=n(596),P=n(72),R=n.n(P),U=n(57),Q=n.n(U),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={modalShow:!1,webId:"",access:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"login",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.currentSession();case 2:if(t=e.sent){e.next=8;break}return e.next=6,Q.a.login("https://solid.community");case 6:e.next=9;break;case 8:this.setState({webId:t.webID});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=this;Q.a.trackSession(function(t){if(t){var n=t.webId;console.log(n);R.a.graph();e.httpGetAsync("https://malte18.solid.community/health/architecture-864367_1920.jpg"),e.setState({webId:n,access:!1})}else e.login(),console.log("You are not logged in")})}},{key:"toggleModal",value:function(){if(!this.state.modalShow){this.httpGetAsync("https://malte18.solid.community/health/architecture-864367_1920.jpg")}this.state.access||(this.sendNotification(),this.checkForAccess()),this.setState({modalShow:!this.state.modalShow})}},{key:"checkForAccess",value:function(){console.log("check for access");console.log(this.state.access),setInterval(this.httpGetAsync("https://malte18.solid.community/health/architecture-864367_1920.jpg"),1e3)}},{key:"httpGetAsync",value:function(e){var t=new XMLHttpRequest;console.log("check for access"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&this.setState({access:!0})},t.open("GET",e,!0),t.send(null)}},{key:"updateAccessState",value:function(e){this.setState({access:e})}},{key:"sendNotification",value:function(){var e=this.state.webId.replace("profile/card#me","inbox"),t=R.a.graph(),n=new R.a.Fetcher(t),a={noMeta:!0,contentType:"text/turtle",body:'\n    @prefix : <#>.\n    @prefix inbox: <./>.\n    @prefix solid: <http://www.w3.org/ns/solid/terms#>.\n    @prefix as: <http://www.w3.org/ns/activitystreams#>.\n    @prefix PREQ: <https://a-solid-web.github.io/permission-ontology/permissionrequests.rdf#> .\n    \n    <> a solid:Notification , as:Announce, PREQ:DataRequest;\n      PREQ:requestDataType PREQ:HealthData;\n      PREQ:hasIntent PREQ:DataAnalysis;\n      PREQ:hasStatus "";\n      PREQ:wasSentOn "'+(new Date).toDateString()+'";\n      PREQ:expires "'+new Date("July 15, 2019").toDateString()+'";\n      PREQ:privacyRisklevel "high"@en;\n      PREQ:financialRisklevel "high"@en;\n      PREQ:legalRisklevel "medium"@en;\n      PREQ:requests <'+this.state.webId.replace("profile/card#me","health/")+">;\n      PREQ:requestFrom <"+window.location.href+">.\n    "};n.webOperation("POST",e,a),console.log("sent notification")}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement(O,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(D.a,null,r.a.createElement("h1",null,"Send me your X-Ray Data!"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(D.a,null,r.a.createElement(I.a,{variant:"primary",onClick:this.toggleModal.bind(this)},"Give Permission with SOIL"))),r.a.createElement(S,{show:this.state.modalShow,onHide:this.toggleModal.bind(this),style:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}))}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).fetchUser=function(){Q.a.trackSession(function(e){if(e){var t=e.webId;console.log(t);R.a.graph();n.setState({webId:t})}else console.log("You are not logged in")})},n.state={webId:""},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.webId)}}]),t}(r.a.Component),L=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/health-app/",render:function(){return r.a.createElement(C,null)},exact:!0}),r.a.createElement(d.a,{path:"/getuser",render:function(){return r.a.createElement(M,null)},exact:!0}),r.a.createElement(d.a,{path:"/",render:function(){return r.a.createElement(C,null)},exact:!0}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[280,1,2]]]);
//# sourceMappingURL=main.788074cc.chunk.js.map